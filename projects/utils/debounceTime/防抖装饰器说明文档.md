### `DebounceTime` 装饰器说明文档

#### 概述

`DebounceTime` 是一个装饰器工厂函数，用于为 Angular 组件中的方法添加防抖功能。防抖功能可以防止在短时间内频繁调用某个方法，从而提高应用性能。

#### 导入

```typescript
import { DebounceTime } from '../decorators/debounceTime/debounceTime';
```

#### 使用

在需要防抖的方法上使用 `@DebounceTime` 装饰器。可以通过传入参数来设置防抖的时间间隔，默认为 500 毫秒。

```typescript
@Component({
    selector: 'app-notice',
    templateUrl: './notice.component.html',
    styleUrls: ['./notice.component.scss'],
})
export class NoticeComponent implements OnInit {
    constructor() {}

    ngOnInit(): void {}

    @DebounceTime(300) // 设置防抖时间为 300 毫秒
    save() {
        console.log(+new Date());
    }
}
```

#### 参数

- `timer` (可选): 防抖时间间隔，单位为毫秒。默认值为 500 毫秒。

#### 实现原理

1. **保存原始方法**: 装饰器内部首先保存被装饰方法的原始引用。
2. **创建 Subject**: 使用 RxJS 的 `Subject` 来接收方法调用的参数。
3. **订阅 Subject**: 使用 `debounceTime` 操作符对 `Subject` 进行防抖处理，并订阅处理后的结果。
4. **重写方法**: 重写被装饰的方法，使其在每次调用时将参数传递给 `Subject`，触发防抖逻辑。
5. **防抖逻辑**: 当防抖时间间隔过后，调用原始方法并传递参数。

#### 示例

```typescript
@Component({
    selector: 'app-notice',
    templateUrl: './notice.component.html',
    styleUrls: ['./notice.component.scss'],
})
export class NoticeComponent implements OnInit {
    constructor() {}

    ngOnInit(): void {}

    @DebounceTime(300)
    save() {
        console.log(+new Date());
    }
}
```

在这个示例中，`save` 方法被 `@DebounceTime(300)` 装饰器修饰，因此在 300 毫秒内多次调用 `save` 方法时，只会执行一次。

#### 注意事项

- **取消订阅**: 装饰器内部会自动管理订阅的生命周期，无需手动取消订阅。
- **性能优化**: 防抖功能可以有效减少在短时间内频繁调用方法的情况，适用于输入框的输入事件、窗口的滚动事件等场景。

希望这份说明文档能帮助你更好地理解和使用 `DebounceTime` 装饰器。如果有任何疑问或建议，请随时联系。
